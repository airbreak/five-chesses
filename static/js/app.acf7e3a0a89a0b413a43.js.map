{"version":3,"sources":["webpack:///./src/App.vue?0966","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/chesses.vue","webpack:///./src/components/chesses.vue?6eb0","webpack:///./src/components/chesses.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","chesses","data","canvas","ctx","gridNum","perGridWidth","gridPointsArr","attacker","mounted","_this","$nextTick","init","methods","document","getElementById","width","height","getContext","initCanvasGrid","drawOuterBorder","drawInserBorder","lineWidth","strokeColor","rect","stroke","beginPath","strokeStyle","i","moveTo","lineTo","_i","start","addEventListener","clickGridToAddChess","clearCtx","initGridPointsArr","initChess","clearRect","x","Math","round","drawChess","swithAttacker","arr","push","j","drawed","y","execDrawChess","fillStyle","arc","PI","fill","closePath","e","_this2","_getMousePos","getMousePos","_getMousePos2","slicedToArray_default","diffX","diffY","checkIsDrawedChess","checkIsWin","winerArr","window","setTimeout","removeEventListener","alert","event","getBoundingClientRect","clientX","left","clientY","top","direction","reg","lines1","getEastWestLine","join","test","lines2","getSouthNorthLine","line3","getOtherLine","line4","min","max","item","gradient","arguments","length","undefined","diff","components_chesses","_vm","staticClass","type","value","on","click","$event","_v","src_components_chesses","chesses_normalizeComponent","Vue","use","Router","router","routes","path","component","Chesses","config","productionTip","el","components","App","template"],"mappings":"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","file":"../static/js/app.acf7e3a0a89a0b413a43.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b1bcf7c0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b1bcf7c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b1bcf7c0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"canvas-box\">\n    <input type=\"button\" value=\"开始\" @click=\"start()\">\n    <canvas id=\"my-canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      canvas: null,\n      ctx: null,\n      gridNum: 20,\n      perGridWidth: 50,\n      gridPointsArr: [],\n      attacker: 1 // 出击方，初始默认白棋\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.init()\n    })\n  },\n  methods: {\n    init () {\n      let canvas = document.getElementById('my-canvas')\n      canvas.width = canvas.height = this.gridNum * this.perGridWidth\n      this.canvas = canvas\n      this.ctx = canvas.getContext('2d')\n    },\n    initCanvasGrid () {\n      this.drawOuterBorder()\n      this.drawInserBorder()\n    },\n\n    // 外框线\n    drawOuterBorder () {\n      // this.ctx.beginPath()\n      this.ctx.lineWidth = 6\n      this.ctx.strokeColor = 'rgba(0,0,0,.8)'\n      this.ctx.rect(0, 0, this.gridNum * this.perGridWidth, this.gridNum * this.perGridWidth)\n      this.ctx.stroke()\n    },\n    drawInserBorder () {\n      // 内框线\n      this.ctx.beginPath()\n      this.ctx.lineWidth = 2\n      this.ctx.strokeStyle = 'rgba(0,0,0,.5)'\n      for (let i = 1; i < this.gridNum; i++) {\n        this.ctx.beginPath()\n        this.ctx.moveTo(i * this.perGridWidth, 0)\n        this.ctx.lineTo(i * this.perGridWidth, this.gridNum * this.perGridWidth)\n        this.ctx.stroke()\n      }\n      for (let i = 1; i < this.gridNum; i++) {\n        this.ctx.beginPath()\n        this.ctx.moveTo(0, i * this.perGridWidth)\n        this.ctx.lineTo(this.gridNum * this.perGridWidth, i * this.perGridWidth)\n        this.ctx.stroke()\n      }\n    },\n    start () {\n      this.canvas.addEventListener('click', this.clickGridToAddChess, false)\n      this.clearCtx()\n      this.attacker = 1 // 出击方，初始默认白棋\n      this.initGridPointsArr()\n      this.initCanvasGrid()\n      this.initChess()\n    },\n    /**\n     * 清理画布\n     */\n    clearCtx () {\n      let width = this.gridNum * this.perGridWidth\n      this.canvas.width = this.canvas.height = width // 重新设置高和宽，可以去除上次的残留行为\n      this.ctx.clearRect(0, 0, width, width)\n    },\n    /**\n     * 初始化两个棋子\n     */\n    initChess () {\n      let x = Math.round(this.gridNum / 2)\n      this.drawChess(x, x)\n      this.swithAttacker()\n\n      this.drawChess(x, x + 1)\n      this.swithAttacker()\n    },\n    /**\n     * 初始化二维数组，记录是否放有棋子\n     * 默认都为落棋，进攻方为 -1\n     */\n    initGridPointsArr () {\n      let arr = []\n      for (let i = 0; i < this.gridNum; i++) {\n        arr.push([])\n        for (let j = 0; j < this.gridNum; j++) {\n          arr[i].push({attacker: 0, drawed: 0})\n        }\n      }\n      this.gridPointsArr = arr\n    },\n    // 进攻方对换\n    swithAttacker () {\n      this.attacker = this.attacker > 1 ? 1 : 2 // 进攻方对换\n    },\n    /**\n     * 画棋子\n     * @param {x} int  格子下标\n     * @param {y} int  格子下标\n     */\n    drawChess (x, y) {\n      this.execDrawChess(x, y) // 画布绘制棋子\n      this.gridPointsArr[x][y].drawed = 1 // 已落棋\n      this.gridPointsArr[x][y].attacker = this.attacker // 记录进攻方，也就是棋子颜色\n    },\n    /**\n     * 画棋子\n     * @param {x} int  格子下标\n     * @param {y} int  格子下标\n     */\n    execDrawChess (x, y) {\n      this.ctx.strokeStyle = ['white', 'black'][this.attacker - 1]\n      this.ctx.fillStyle = this.ctx.strokeStyle\n      this.ctx.beginPath()\n      this.ctx.arc(x * this.perGridWidth, y * this.perGridWidth, Math.round(this.perGridWidth / 3), 0, 2 * Math.PI)\n      this.ctx.stroke()\n      this.ctx.fill()\n      this.ctx.closePath()\n    },\n    /**\n     * 点击方格落棋\n     * 获取点击的坐标，落到取到最近的交点处\n     */\n    clickGridToAddChess (e) {\n      let [x, y] = this.getMousePos(document.getElementById('my-canvas'), e)\n      if (x > this.gridNum * this.perGridWidth || y > this.gridNum * this.perGridWidth) {\n        return\n      }\n      let diffX = x / this.perGridWidth\n      let diffY = y / this.perGridWidth\n      diffX = Math.round(diffX)\n      diffY = Math.round(diffY)\n      if (!this.checkIsDrawedChess(diffX, diffY)) {\n        this.drawChess(diffX, diffY, true)\n        // 检测是否赢\n        let flag = this.checkIsWin(diffX, diffY, 4) // 先检测正西方是否有连续5个同色棋子\n        if (flag) {\n          let winerArr = ['白棋', '黑棋']\n          window.setTimeout(() => {\n            this.canvas.removeEventListener('click', this.clickGridToAddChess)\n            window.alert(winerArr[this.attacker - 1] + '胜出，请重新开始')\n          }, 100)\n          return\n        }\n      }\n      this.swithAttacker() // 进攻方对换\n    },\n    /**\n     * 获取点击的位置\n     */\n    getMousePos (canvas, event) {\n      var rect = canvas.getBoundingClientRect()\n      var x = event.clientX - rect.left * (canvas.width / rect.width)\n      var y = event.clientY - rect.top * (canvas.height / rect.height)\n      return [x, y]\n    },\n    /**\n     * 是否已经放有棋子\n     */\n    checkIsDrawedChess (x, y) {\n      return this.gridPointsArr[x][y].drawed === 1\n    },\n    /**\n     * 检验某方是否胜利\n     * 具体做法：以当前点为中心，确定8个方向 →、东北、↑、西北、←、西南、↓、东南，逆时针判断。是否有颜色一致并且个数连续累加为5\n     * 某个方向数量不够时，则查找反方向，数值继续累积，\n     */\n    checkIsWin (x, y, direction) {\n      let reg = this.attacker > 1 ? /22222/ : /11111/ // 根据进攻方来选择判断条件\n      // 使用正则表达式进行匹配\n      let lines1 = this.getEastWestLine(x, y).join('')\n      if (reg.test(lines1)) {\n        return true\n      }\n      let lines2 = this.getSouthNorthLine(x, y).join('')\n      if (reg.test(lines2)) {\n        return true\n      }\n      let line3 = this.getOtherLine(x, y, 1).join('')\n      if (reg.test(line3)) {\n        return true\n      }\n      let line4 = this.getOtherLine(x, y, -1).join('')\n      if (reg.test(line4)) {\n        return true\n      }\n      return false\n    },\n    /**\n     * 获取东西走向的线。当前的点往东取5个(不出边界)，往西取5个(不出边界)\n     * 获取到线上的点，然后把对应点上的绘制信息放到数组中\n     */\n    getEastWestLine (x, y) {\n      let min = Math.min(this.gridNum - 1, x + 4) // 当前点西边的点\n      let max = Math.max(1, x - 4) // 当前点东边的点\n      let arr = []\n      for (let i = max; i <= min; i++) {\n        let item = this.gridPointsArr[i][y]\n        arr.push(item.attacker)\n      }\n      return arr\n    },\n    /**\n     * 获取南北走向的线。当前的点往南取5个(不出边界)，往北取5个(不出边界)\n     * 获取到线上的点，然后把对应点上的绘制信息放到数组中\n     */\n    getSouthNorthLine (x, y) {\n      let min = Math.min(this.gridNum - 1, y + 4) // 当前点西边的点\n      let max = Math.max(1, y - 4) // 当前点东边的点\n      let arr = []\n      for (let i = max; i <= min; i++) {\n        let item = this.gridPointsArr[x][i]\n        arr.push(item.attacker)\n      }\n      return arr\n    },\n    /**\n     * 获取斜线上的值\n     * 假设 点为 （2, 3）\n     * 则斜率为 -1 的 点一次为：（1,2）（2,3）（3,4）（5,6）（7,8）\n     * 则斜率为 1 的 点一次为：（1,4）（2,3）（3,2）（1,4）\n     */\n    getOtherLine (x, y, gradient = 1) {\n      let diff = gradient > 0 ? x + y : x - y\n      let min = Math.min(this.gridNum - 1, x + 4) // 当前点西边的点\n      let max = Math.max(1, x - 4) // 当前点东边的点\n      let arr = []\n      for (let i = max; i <= min; i++) {\n        let item = null\n        if (gradient > 0) {\n          item = this.gridPointsArr[i][diff - i]\n        } else {\n          item = this.gridPointsArr[i][i - diff]\n        }\n        if (item) {\n          arr.push(item.attacker)\n        }\n      }\n      return arr\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.canvas-box{\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  #my-canvas {\n    background-color:rgba(0, 0, 0, .2);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/chesses.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-box\"},[_c('input',{attrs:{\"type\":\"button\",\"value\":\"开始\"},on:{\"click\":function($event){_vm.start()}}}),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"my-canvas\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b42730c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/chesses.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b42730c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chesses.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chesses.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chesses.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b42730c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./chesses.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b42730c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chesses.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Chesses from '@/components/chesses'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'chesses',\n      component: Chesses\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}